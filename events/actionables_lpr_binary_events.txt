namespace = lpr_events

# ============================================================================
# BINARY CHOICE BUILDER EVENTS (Monthly Events)
# ============================================================================
# These events trigger when LPR variables reach 5 or more points.
# Each event offers a binary choice:
# - Commit to the path: Increase variable + small bonus
# - Reject the path: Decrease variable + big bonus
#
# These events create meaningful trade-offs for players who have already
# invested in a particular path, forcing them to decide whether to continue
# or cash out with a larger immediate reward.
# ============================================================================

# Binary event for Liberty - triggers when Liberty >= 5
lpr_events.2 = {
    type = country_event
    placement = root

    trigger = {
        var:actionables_lpr_liberty >= 5
    }

    title = lpr_events.2.t
    desc = lpr_events.2.d
    flavor = lpr_events.2.f

    event_image = {
        video = "unspecific_world_fair"
    }

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

    duration = 5

    # Option A: Commit to Liberty Path
    # Rewards: Small bonus (construction boost) + 3 Liberty points
    # Trade-off: Continue accumulating points but get smaller immediate reward
    option = {
        name = lpr_events.2.a
        is_default = yes
        add_loyalists = {
            value = lpr_small_radicals
        }
        change_variable = {
            name = actionables_lpr_liberty
            add = 3
        }
    }

    # Option B: Reject Liberty Path
    # Rewards: Big bonus (15,000 gold + reduces radicals)
    # Trade-off: Reduces Liberty by 5 points, giving up progress toward finisher
    option = {
        name = lpr_events.2.b

        add_treasury = 15000
        add_loyalists = {
            value = lpr_medium_radicals
        }
        change_variable = {
            name = actionables_lpr_liberty
            add = -5
        }
        change_variable = {
            name = actionables_lpr_liberty_spent
            add = 5
        }
    }
}

# Binary event for Progress - triggers when Progress >= 5
lpr_events.3 = {
    type = country_event
    placement = root

    trigger = {
        var:actionables_lpr_progress >= 5
    }

    title = lpr_events.3.t
    desc = lpr_events.3.d
    flavor = lpr_events.3.f

    event_image = {
        video = "unspecific_world_fair"
    }

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

    duration = 5

    # Option A: Commit to Progress Path
    # Rewards: Small bonus (construction speed boost) + 3 Progress points
    # Trade-off: Continue accumulating points but get smaller immediate reward
    option = {
        name = lpr_events.3.a
        is_default = yes

        add_modifier = { modifier = lpr_construction_boost
            days = 30
        }
        change_variable = {
            name = actionables_lpr_progress
            add = 3
        }
    }

    # Option B: Reject Progress Path
    # Rewards: Big bonus (20,000 gold + longer construction boost)
    # Trade-off: Reduces Progress by 5 points, giving up progress toward finisher
    option = {
        name = lpr_events.3.b

        add_treasury = 20000
        add_modifier = { modifier = lpr_construction_boost
            days = 90
        }
        change_variable = {
            name = actionables_lpr_progress
            add = -5
        }
        change_variable = {
            name = actionables_lpr_progress_spent
            add = 5
        }
    }
}

# Binary event for Revolution - triggers when Revolution >= 5
lpr_events.4 = {
    type = country_event
    placement = root

    trigger = {
        var:actionables_lpr_revolution >= 5
    }

    title = lpr_events.4.t
    desc = lpr_events.4.d
    flavor = lpr_events.4.f

    event_image = {
        video = "unspecific_world_fair"
    }

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

    duration = 5

    # Option A: Commit to Revolution Path
    # Rewards: Small bonus (military boost) + 3 Revolution points
    # Trade-off: Continue accumulating points but get smaller immediate reward
    option = {
        name = lpr_events.4.a
        is_default = yes

        add_modifier = { modifier = lpr_military_boost
            days = 15
        }
        change_variable = {
            name = actionables_lpr_revolution
            add = 3
        }
    }

    # Option B: Reject Revolution Path
    # Rewards: Big bonus (creates 30,000 pops + longer tech spread boost)
    # Trade-off: Reduces Revolution by 5 points, giving up progress toward finisher
    option = {
        name = lpr_events.4.b

        random_scope_state = {
            create_pop = {
                size = 30000
            }
        }
        add_loyalists = {
            value = lpr_large_radicals
        }
        change_variable = {
            name = actionables_lpr_revolution
            add = -5
        }
        change_variable = {
            name = actionables_lpr_revolution_spent
            add = 5
        }
    }
}


